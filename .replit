modules = ["nodejs-20", "web", "bash", "postgresql-16"]
run = "npm run dev"
hidden = [".config", ".git", "generated-icon.png", "node_modules", "dist"]

[nix]
channel = "stable-24_05"

[deployment]
deploymentTarget = "autoscale"
run = ["sh", "-c", "npm run dev"]

[[ports]]
localPort = 5000
externalPort = 80

[workflows]
runButton = "POS Application Start"

[[workflows.workflow]]
name = "Project"
mode = "parallel"
author = "agent"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Start application"

[[workflows.workflow]]
name = "Start application"
author = "agent"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"
waitForPort = 5000

[[workflows.workflow]]
name = "Start Application Clean"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Restart Dev Server"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Safe Restart"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"node.*server\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 5"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Start Fresh"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"node.*server\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm install"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Start Fresh"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"node.*server\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm install"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Debug Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"node.*server\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Fixed Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"node.*server\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Complete Restart"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"node\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"tsx\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5173/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Fixed Restart"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"tsx server\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 1"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Clean Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"node\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"tsx\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Ultimate Clean Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "killall node 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "killall npm 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"tsx\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5173/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 1"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Super Clean Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"npm\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"node\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"tsx\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "netstat -tlnp | grep :5000 | awk '{print $7}' | cut -d'/' -f1 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "netstat -tlnp | grep :5173 | awk '{print $7}' | cut -d'/' -f1 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Ultimate Fix Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "killall -9 npm node vite tsx 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "lsof -ti:5000 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "lsof -ti:5173 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf node_modules/.vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Nuclear Restart"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"npm\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"node\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"tsx\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 5"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "ss -tulpn | grep :5000 | awk '{print $7}' | cut -d',' -f2 | cut -d'=' -f2 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "ss -tulpn | grep :5173 | awk '{print $7}' | cut -d',' -f2 | cut -d'=' -f2 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf node_modules/.vite client/node_modules/.vite server/node_modules/.vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf .vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Force Clean Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "#!/bin/bash"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸ”„ Starting Force Clean Process...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"npm\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"node\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"tsx\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 5"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "for port in 5000 5173; do"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  for pid in $(ss -tulpn | grep \":$port \" | awk '{print $7}' | cut -d',' -f2 | cut -d'=' -f2 2>/dev/null); do"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "    kill -9 \"$pid\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  done"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "done"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf node_modules/.vite client/node_modules/.vite server/node_modules/.vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf .vite dist 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"âœ… Cleanup complete, starting application...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Simple Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = 'pkill -f "npm\|node\|vite\|tsx" 2>/dev/null || true'

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Stable Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"tsx server\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Reliable Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"tsx.*server\" 2>/dev/null || true  "

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "netstat -tlnp | grep :5000 | awk '{print $7}' | cut -d'/' -f1 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Ultimate Stable Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"tsx.*server\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 1"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf node_modules/.vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Emergency Recovery Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "#!/bin/bash"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸš¨ Emergency Recovery Starting...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"npm run dev\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"tsx.*server\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"node.*server\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "lsof -ti:5000 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf node_modules/.vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf .vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"âœ… Recovery cleanup complete, starting fresh...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Clean Application Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"npm run dev\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 1"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Ultimate Recovery Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "#!/bin/bash"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸš¨ Ultimate Recovery Process Starting...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"npm\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"node\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"tsx\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 4"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "lsof -ti:5000 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "lsof -ti:5173 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf node_modules/.vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf .vite 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf dist 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"âœ… Recovery cleanup complete, starting application...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"

[[workflows.workflow]]
name = "Final Recovery Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "#!/bin/bash"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸš¨ Final Recovery Process - Targeting Correct Application...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Kill all Node.js processes"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"npm\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"node\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"tsx\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"â³ Waiting for process cleanup...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 5"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Clear all ports aggressively"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "for port in 5000 5173 3000; do"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  lsof -ti:$port | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  fuser -k ${port}/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "done"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Navigate to correct directory and clear caches"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸ§¹ Clearing all Vite caches...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = 'find . -name "node_modules" -type d -exec rm -rf {}/.vite \; 2>/dev/null || true'

[[workflows.workflow.tasks]]
task = "shell.exec"
args = 'find . -name ".vite" -type d -exec rm -rf {} \; 2>/dev/null || true'

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf dist build 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"âœ… Starting fresh POS application...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Check if we have package.json in root, if not try portable version"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "if [ -f \"package.json\" ]; then"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  npm run dev"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "else"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  echo \"ðŸ“ Switching to AwesomeShopPOS-Portable/app directory...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  cd AwesomeShopPOS-Portable/app"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  npm run dev"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fi"

[[workflows.workflow]]
name = "POS Application Start"
author = 43114682
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "#!/bin/bash"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸš€ Starting Awesome Shop POS Application...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Kill any existing processes"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"npm\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"node\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"vite\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "pkill -9 -f \"tsx\" 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"â³ Cleaning up processes...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 3"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Clear ports"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "lsof -ti:5000 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "lsof -ti:5173 | xargs -r kill -9 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fuser -k 5000/tcp 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sleep 2"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Navigate to the correct POS application directory"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace/AwesomeShopPOS-Portable/app"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸ“ Switched to POS application directory\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Clear Vite caches"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf node_modules/.vite .vite dist 2>/dev/null || true"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"ðŸ§¹ Cleared development caches\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "# Install dependencies if needed"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "if [ ! -d \"node_modules\" ]; then"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  echo \"ðŸ“¦ Installing dependencies...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "  npm install"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "fi"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"âœ… Starting POS system on port 5000...\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm run dev"
